<?xml version="1.0"?>
<content collectionGUID="362143E8-8DB9-4CB0-B214-2F673C741117">
  <lastEdited clientType="local-build-20110227" date="2011-02-27 15:42:15 -0500"/>
  <textBox id="generic-title-attributes" dynamic="no" visible="yes">
    <richText>&lt;b&gt;Fourth and Fifth Gen Etiquette&lt;/b&gt;</richText>
  </textBox>
  <textBox id="generic-datefield-attributes" dynamic="no" visible="yes">
    <richText>&lt;b&gt;Thursday, February 24, 2011&lt;/b&gt;</richText>
  </textBox>
  <textBox id="generic-body-attributes" dynamic="no" visible="yes">
    <richText>&lt;b&gt;An introduction to everything new in the fourth gen and how things have changed since third gen hacking! NARC files confuse you? READ THIS. NARC files don&#x2019;t actually confuse you that much? Whatever.&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;&#xD;Alright well, before we get started, I&#x2019;m just going to tell you straight up to go download my hacking tool pack for fourth generation. It&#x2019;s under &#x201C;Downloads&#x201D; which can obviously be clicked on above&#xD;&#xD;Got everything downloaded? Okay. Now, do you have a NDS ROM? I&#x2019;d recommend you rip yourself a HG/SS one for the sake of this tutorial, but if you&#x2019;re unable to, you should still be able to pick up the general idea by reading, but you &lt;/b&gt;&lt;b&gt;will not be able to follow along,&lt;/b&gt;&lt;b&gt; at least, not as long as the .narc files go. Which come on, that&#x2019;s totally why you&#x2019;re reading this, isn&#x2019;t it?&#xD;&#xD;So, let&#x2019;s pop open that download pack that you definitely just downloaded. More specifically, let&#x2019;s pop open KiwiEditor (it&#x2019;s right in the root of the folder):&#xD;&lt;/b&gt;&lt;b&gt;&#xD;&lt;/b&gt;&lt;b&gt;Got it? Good. Kiwi will allow us to unpack the ROM, but we&#x2019;re just browsing today. Okay, so, go to File -&gt; Open and select your (HGSS) nds ROM.&#xD;&lt;/b&gt;&lt;b&gt;&#xD;&lt;/b&gt;&lt;b&gt;Yay! This is much like Windows Explorer, or Finder now. You&#x2019;re viewing the files that you have loaded into Kiwi. Now, double click on your .nds file (in my case, soulsilvery.nds)&#xD;&lt;/b&gt;&lt;b&gt;&#xD;&lt;/b&gt;&lt;b&gt;This window will appear! Like I said before, just like windows explorer, this is a file browser. Click on the plus sign next to the ROM name and you will view its contents, much like that of a folder.&#xD;&lt;/b&gt;&lt;b&gt;&#xD;&lt;/b&gt;&lt;b&gt;So, this is it. Each .NDS file is kind of like a .zip file, or .rar, or any kind of archive. There are files within it that allow it to function. Kiwi, among some other programs, allow us to view these internal components. &#xD;&#xD;But why do you care?&#xD;&#xD;Well, this is where fourth and fifth gen hacking differ from third generation hacking. In third gen, you would simply load the entire .GBA file in whichever editor you needed and you would just save that file like any other. As .NDS files are so large, however, the process determined for them is to unpack, or unarchive, much like unzip, the files within the .NDS file. These little bits each have a role&#x2013; some files within the .NDS file will contain all of the in  game text for example, while others will contain the script, or the pok&#xE9;mon sprites, or something of the like. &#xD;&lt;/b&gt;&lt;b&gt;&#xD;&lt;/b&gt;&lt;b&gt;Feel free to do some poking around. In HGSS, all of the NARC files aren&#x2019;t actually called NARC files. They&#x2019;ve all been reorganized and place into this directory called &#x201C;a&#x201D; in the data directory, but they function just like the NARC files in Diamond or Pearl.&#xD;&#xD;Woah wait, what&#x2019;s a NARC file? Narc stands for Nintendo Archive, which makes it a lot less confusing. again, much like a zip file, these too contain smaller components. Nintendo put an archive in yo archive so you can archive while you archive.&#xD;&#xD;Navigate to /data/a/0/8/1 and tick the check box, assuming you&#x2019;re using a HGSS ROM. If not, look up the equivalent in the readme.txt file I&#x2019;ve included for Diamond, Pearl, or Platinum. (it&#x2019;s in msgdata/msgdata.narc incase you&#x2019;re too lazy...)&#xD;&lt;/b&gt;&lt;b&gt;&#xD;&lt;/b&gt;&lt;b&gt;Now click the farthest left icon that kind of looks like a piece of paper. This will extract the contents of a/0/8/1.&#xD;&lt;/b&gt;&lt;b&gt;&#xD;&#xD;&lt;/b&gt;&lt;b&gt;Wat. Where dey go? If you&#x2019;ll kindly open up folder where your nds rom/roms reside...&#xD;&#xD;&lt;/b&gt;&lt;b&gt;&#xD;&lt;/b&gt;&lt;b&gt;&#xD;You&#x2019;ll notice there&#x2019;s a new folder with the same name as your ROM! Click through this folder, and you&#x2019;ll find a similar file system layout to the one you just navigated:&#xD;&#xD;&lt;/b&gt;&lt;b&gt;&#xD;&lt;/b&gt;&lt;b&gt;&#xD;Now, unless you&#x2019;ve checked already or are familiar with it, you may not know that the NARC that we just extracted contains the events. This includes the overworld sprites, which can be edited with BTX editor. But... wait. BTX editor.... edits .BTX files, doesn&#x2019;t it? I&#x2019;m not going to go into detail on BTX editor, but you &lt;/b&gt;&lt;b&gt;&lt;i&gt;do &lt;/i&gt;&lt;/b&gt;&lt;b&gt;need to get the BTX files out of this narc in order to edit them. How do we do this?&#xD;&#xD;Why, open the file in Kiwi editor! Kiwi also opens and extract NARC archives! Go to the main Kiwi screen and select open just as you did before, but this time, be sure to adjust the file type at the bottom:&#xD;&#xD;&lt;/b&gt;&lt;b&gt;&#xD;&#xD;&lt;/b&gt;&lt;b&gt;Select all files (normally the NARC file would be recognized, but as HGSS uses a different NARC naming system, you must do this to tell the program that your NARC file isn&#x2019;t a .narc. So anyway, open the 1 file in romname/data/a/0/8/:&#xD;&lt;/b&gt;&lt;b&gt;&#xD;&lt;/b&gt;&lt;b&gt;And it will be added just like your .nds file.&#xD;&lt;/b&gt;&lt;b&gt;&#xD;&lt;/b&gt;&lt;b&gt;And as you would expect... Clicking it reveals...&#xD;&lt;/b&gt;&lt;b&gt;&#xD;&lt;/b&gt;&lt;b&gt;All of those yummy .BTX and etc files! You can then check the box next to the ones you want to extract to edit, (or check all at the top to get a nice index going) and they will be extracted to the same folder as the narc initially was. And those BTX files can be opened with BTX editor! (Try this out yourself&#x2013; the BTX file with the number 70 is the female hero, for example).&#xD;&lt;/b&gt;&lt;b&gt;&#xD;&lt;/b&gt;&lt;b&gt;Alright, so this is all very nice... but after you&#x2019;ve gone through all of this... How do you go back to your simple .nds file? Well, there are two things that we have extracted. The NARC file was unpacked, and so was the NDS file. So you need to repack your NARC file with the modified inards (ie. the modified BTX file) and then from there, repack all of it back into a .nds, which you can then play in your emulator.&#xD;&#xD;I wouldn&#x2019;t be too concerned about decompiling and recompiling your ROM&#x2013;&#xA0;when you work in PPRE (which you mostly likely will be doing... all of the time...) The &#x201C;set rom&#x201D; feature creates a full scale extraction of the .nds file in the folder &#x201C;tmp_romname.&#x201D; LIkewise, it can also be compiled at the end with &#x201C;write rom.&#x201D; You can use kiwi on the extracted files from ndstool or PPRE and then do the final compiling with PPRE or ndstool.&#xD;&#xD;So, to remake the NARC file. (I would suggest opening a BTX and editing it in BTX editor at this time&#x2013;&#xA0;most likely the hero sprites located at 1_69 and 1_70 .BTX respectively. If you don&#x2019;t want to make your own or modify the current ones, you can use &lt;/b&gt;&lt;b&gt;&lt;a href="http://www.rickyayoub.com/ups/emeraldhero.PNG"&gt;my own template from third gen&lt;/a&gt;&lt;/b&gt;&lt;b&gt; as a test.) Head to the main screen of kiwi and select Tools -&gt; Make NARC file&#xD;&#xD;&lt;/b&gt;&lt;b&gt;&#xD;&lt;/b&gt;&lt;b&gt;&#xD;It will then prompt you for what the input files will be, and where the output location is. You should fill both of these values in with the romname/data/a/0/8/ folder, like so:&#xD;&lt;/b&gt;&lt;b&gt;&#xD;&lt;/b&gt;&lt;b&gt;And, of course, click OK. I always include the FNTB, so check that box. Now this is actually a little confusing. Kiwi didn&#x2019;t ask for a file name. It will always save the newly made narc as the last folder in the output .narc (so in this case, 8.narc), and it will be in the location you told it, or the same one with all of the 1 contents and .BTX files. So, at the very bottom of my data/a/0/8/1 folder is this:&#xD;&lt;/b&gt;&lt;b&gt;&#xD;&lt;/b&gt;&lt;b&gt;&#xD;Now, 8.narc is simply your edited &#x201C;1&#x201D; file. the &#x201C;1&#x201D; file is also in this directory, however, so you must delete the &#x201C;1&#x201D; file and then rename 8.narc to &#x201C;1&#x201D;.&#xD;&#xD;&lt;/b&gt;&lt;b&gt;&#xD;&#xD;&#xD;&#xD;&lt;/b&gt;&lt;b&gt;You don&#x2019;t really have to worry about saving the original &#x201C;1&#x201D; file, instead I would suggest you back up the original .nds and just re-extract it if something goes horribly wrong during editing/compiling of a narc.&#xD;&#xD;Once you have renamed the 8.narc file to 1 (in hgss), go back to the tools menu in kiwi and select make nds file.&#xD;&#xD;&lt;/b&gt;&lt;b&gt;&#xD;&#xD;&lt;/b&gt;&lt;b&gt;Then fill out the fields appropriately:&#xD;&lt;/b&gt;&lt;b&gt;&#xD;&lt;/b&gt;&lt;b&gt;As you may have noticed, in my example, I have selected the same output folder that the ROM is in. Because of this, my old ROM will be overwritten. You can avoid this by backing up the original nds file, renaming the rom folder, or selecting an output folder different than the one the original rom resides in. (The name of your new rom will be the same name as the last source directory&#x2013;&#xA0;which in this case is the same as our rom causing it to be overwritten).&#xD;&#xD;Click OK and that&#x2019;s it! Run your new ROM and you should see the changes made!&#xD;&#xD;Do note that most of the time you will probably use PPRE or NDSTOOL to repackage the NDS file (both of which don&#x2019;t always default to overwriting the old rom as kiwi does).&#xD;&#xD;Happy hacking!&#xD;VGMoose&#xD;&#xD;&#xD;&lt;/b&gt;</richText>
  </textBox>
  <image id="generic-picture-attributes" dynamic="no" visible="yes" src="24_Fouth_Gen_Basics_files/shapeimage_2.png" left="0px" top="0px" width="628px" height="368px"/>
</content>
